var d=Object.defineProperty,l=Object.defineProperties;var u=Object.getOwnPropertyDescriptors;var r=Object.getOwnPropertySymbols;var h=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;var o=(s,t,e)=>t in s?d(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,c=(s,t)=>{for(var e in t||(t={}))h.call(t,e)&&o(s,e,t[e]);if(r)for(var e of r(t))p.call(t,e)&&o(s,e,t[e]);return s},m=(s,t)=>l(s,u(t));import{N as w}from"./vendor-98287fb1.js";const f="",y="",S={receive_mint:{}},k=(s=f,t=y)=>({send:{amount:"150000000",recipient:s,recipient_code_hash:t,msg:Buffer.from(JSON.stringify(S)).toString("base64")}}),A={exec:{gas:"500500"}},I="https://secret-4.api.trivium.network:1317",_="secret1k0jntykt7e4g3y88ltc60czgjuqdy4c9e8fzek",g=s=>new Promise(t=>setTimeout(t,s)),j=async(s,t,e=1200)=>{let i=0;for(;s();){if(i+=50,i>e)throw Error(t);await g(50)}};class b{constructor(t=!1,e="secret-4",i="secret1usycsk8ex8gj4t2uzg6sadkcw4jvflkjkxldk8"){if(this.connected=t,this.chainId=e,this.contractAddress=i,this.address="",this.permitParams={permit_name:"_permit",allowed_tokens:[this.contractAddress],permissions:["owner"]},typeof window!="undefined"){t=localStorage.getItem("connected")==="true";const a=localStorage.getItem("signature");a&&(this.signature=JSON.parse(a))}}async setupKeplr(){await j(()=>!window.keplr&&!window.getOfflineSigner&&!window.getEnigmaUtils,"Couldn't connect to Keplr. Make sure it is installed"),await window.keplr.enable(this.chainId);const t=window.getOfflineSigner(this.chainId),e=await t.getAccounts();this.address=e[0].address,this.client=new w(I,this.address,t,window.getEnigmaUtils(this.chainId),A),this.connected=!0,localStorage.setItem("connected","true")}async getSignature(){const{signature:t}=await window.keplr.signAmino(this.chainId,this.address,{chain_id:this.chainId,account_number:"0",sequence:"0",fee:{amount:[{denom:"uscrt",amount:"0"}],gas:"1"},msgs:[{type:"query_permit",value:this.permitParams}],memo:""},{preferNoSetFee:!0,preferNoSetMemo:!0});return this.signature=t,localStorage.setItem("signature",JSON.stringify(t)),t}async customQueryPermit(t){var n;const e={with_permit:{query:t,permit:{params:m(c({},this.permitParams),{chain_id:this.chainId}),signature:(n=this.signature)!=null?n:await this.getSignature()}}};return await this.client.queryContractSmart(this.contractAddress,e)}async customQuery(t){return await this.client.queryContractSmart(this.contractAddress,t)}async getToken(t){return await this.customQueryPermit({nft_dossier:{token_id:t}})}async transfer(t,e){return await this.client.execute(this.contractAddress,{transfer_nft:{token_id:t,recipient:e}})}async getTokens(t=!1){if(!t){const i=localStorage.getItem("hunters");if(i)return JSON.parse(i)}const e=[{image:"https://pbs.twimg.com/media/FMcBE6WXMAcVI-u?format=jpg&name=medium",id:"0",level:6},{image:"https://pbs.twimg.com/media/FOdDDFjWYAEaZAh?format=jpg&name=large",id:"1",level:16},{image:"https://pbs.twimg.com/media/FOaRnaSXoAUd-qB?format=jpg&name=large",id:"2",level:116},{image:"https://pbs.twimg.com/media/FOyIu9fXMAUupxJ?format=jpg&name=large",id:"3",level:195},{image:"https://pbs.twimg.com/media/FOuUAPzXoAEpozU?format=jpg&name=large",id:"4",level:96},{image:"https://pbs.twimg.com/media/FNrsrWEVgAA9wHU?format=jpg&name=large",id:"5",level:8562},{image:"https://pbs.twimg.com/media/FNQiZBlXIAI_VGO?format=jpg&name=large",id:"6",level:1225}];return await g(2e3),[e[0],e[1]]}async mint(){return await this.client.execute(_,k())}}const F=new b;export{j as t,F as w};
